#
# DB Roller YAML Schema example
#
# author: [Patrick Purcell]
# website: [http://www.dbroller.com, http://www.wcpdigital.com.au]
# license: [MIT License, http://www.opensource.org/licenses/mit-license.php]
# copyright: (c) 2015-2016 Patrick Purcell

---

# Accounts Table Paramaters
- Name: Accounts
  Engine: InnoDB
  CharSet: utf8
  Collation: utf8_unicode_ci
  AutoIncrement: 1
  Comment: Registered members.

#Columns Array
  Columns:
  - Name: ID
    Type: BIGINT
    LenVal: ""
    Default: ~
    Attribute: unsigned
    AllowNull: false
    Index: PRIMARY
    AutoIncrement: true
    Comment: This is the ID.
  - Name: UUID
    Type: CHAR
    LenVal: "36"
    Default: ~
    Attribute: ""
    AllowNull: true
    Index: UNIQUE
    AutoIncrement: false
    Comment: This is the UUID/GUID.
  - Name: Username
    Type: VARCHAR
    LenVal: "100"
    Default: ""
    Attribute: ""
    AllowNull: false
    Index: UNIQUE
    Comment: This is the Username.
  - Name: Email
    Type: VARCHAR
    LenVal: "200"
    Default: ""
    Attribute: ""
    AllowNull: false
    Index: UNIQUE
    Comment: This is the Email.
  - Name: Password
    Type: VARCHAR
    LenVal: "100"
    Default: ""
    Attribute: ""
    AllowNull: true
    Comment: This is the Password.
  - Name: DateCreated
    Type: TIMESTAMP
    Default: CURRENT_TIMESTAMP
    AllowNull: true
    Comment: This is the Date Created.

# Insert Array
  Insert:
  - UUID: '{uuid()}'
    Username: admin
    Email: admin@domain.com

# Roles Table Parameters
- Name: Roles
  Engine: InnoDB
  CharSet: utf8
  Collation: utf8_unicode_ci
  AutoIncrement: 1
  Comment: Roles for account permission assignment.
  
# Columns Array
  Columns:
  - Name: ID
    Type: INT
    LenVal: ""
    Default: ~
    Attribute: unsigned
    AllowNull: false
    Index: PRIMARY
    AutoIncrement: true
    Comment: ' This is the ID.'
  - Name: Name
    Type: VARCHAR
    LenVal: "100"
    Default: ""
    AllowNull: false
    Index: UNIQUE
    Comment: This is the Name.
  - Name: Comment
    Type: VARCHAR
    LenVal: "255"
    Default: ""
    AllowNull: false
    Comment: This is the Email.

# Insert Array
  Insert:
  - Name: Administrator
    Comment: Role reserved for super users.
  - Name: Member
    Comment: Role assigned to ordinary users.

# Account Roles Table Parameters
- Name: AccountRoles
  Engine: InnoDB
  CharSet: utf8
  Collation: utf8_unicode_ci
  AutoIncrement: 1
  Comment: Roles assigned to accounts.
  
# Columns Array
  Columns:
  - Name: AccountID
    Type: BIGINT
    Attribute: unsigned
    AllowNull: false
    Index: PRIMARY
    Comment: This is the AccountID.
  - Name: RoleID
    Type: INT
    AllowNull: false
    Index: PRIMARY
    Comment: This is the RoleID.

# Insert Array
  Insert:
  - AccountID: 1
    RoleID: 1
...
